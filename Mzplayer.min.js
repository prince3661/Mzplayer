//author:王子饼干 ♪(^∇^*)
const playsvg='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 32"><path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path></svg>';const pausesvg='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 32"><path d="M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"></path></svg>';const volumedownsvg='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"></path></svg>';const volumeoffsvg='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"></path></svg>';const volumeupsvg='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056z"></path></svg>';const fullsvg='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M6.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v4h4c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333zM30.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h4v-4c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM30.667 12c-0.8 0-1.333-0.533-1.333-1.333v-4h-4c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM1.333 12c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333h-4v4c0 0.8-0.533 1.333-1.333 1.333z"></path></svg>';const fullwebsvg='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M24.965 24.38h-18.132c-1.366 0-2.478-1.113-2.478-2.478v-11.806c0-1.364 1.111-2.478 2.478-2.478h18.132c1.366 0 2.478 1.113 2.478 2.478v11.806c0 1.364-1.11 2.478-2.478 2.478zM6.833 10.097v11.806h18.134l-0.002-11.806h-18.132zM2.478 28.928h5.952c0.684 0 1.238-0.554 1.238-1.239 0-0.684-0.554-1.238-1.238-1.238h-5.952v-5.802c0-0.684-0.554-1.239-1.238-1.239s-1.239 0.556-1.239 1.239v5.802c0 1.365 1.111 2.478 2.478 2.478zM30.761 19.412c-0.684 0-1.238 0.554-1.238 1.238v5.801h-5.951c-0.686 0-1.239 0.554-1.239 1.238 0 0.686 0.554 1.239 1.239 1.239h5.951c1.366 0 2.478-1.111 2.478-2.478v-5.801c0-0.683-0.554-1.238-1.239-1.238zM0 5.55v5.802c0 0.683 0.554 1.238 1.238 1.238s1.238-0.555 1.238-1.238v-5.802h5.952c0.684 0 1.238-0.554 1.238-1.238s-0.554-1.238-1.238-1.238h-5.951c-1.366-0.001-2.478 1.111-2.478 2.476zM32 11.35v-5.801c0-1.365-1.11-2.478-2.478-2.478h-5.951c-0.686 0-1.239 0.554-1.239 1.238s0.554 1.238 1.239 1.238h5.951v5.801c0 0.683 0.554 1.237 1.238 1.237 0.686 0.002 1.239-0.553 1.239-1.236z"></path></svg>';const commentsvg='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M27.128 0.38h-22.553c-2.336 0-4.229 1.825-4.229 4.076v16.273c0 2.251 1.893 4.076 4.229 4.076h4.229v-2.685h8.403l-8.784 8.072 1.566 1.44 7.429-6.827h9.71c2.335 0 4.229-1.825 4.229-4.076v-16.273c0-2.252-1.894-4.076-4.229-4.076zM28.538 19.403c0 1.5-1.262 2.717-2.819 2.717h-8.36l-0.076-0.070-0.076 0.070h-11.223c-1.557 0-2.819-1.217-2.819-2.717v-13.589c0-1.501 1.262-2.718 2.819-2.718h19.734c1.557 0 2.819-0.141 2.819 1.359v14.947zM9.206 10.557c-1.222 0-2.215 0.911-2.215 2.036s0.992 2.035 2.215 2.035c1.224 0 2.216-0.911 2.216-2.035s-0.992-2.036-2.216-2.036zM22.496 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.224 0 2.215-0.911 2.215-2.035s-0.991-2.036-2.215-2.036zM15.852 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.222 0 2.215-0.911 2.215-2.035s-0.992-2.036-2.215-2.036z"></path></svg>';const settingsvg='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 28"><path d="M28.633 17.104c0.035 0.21 0.026 0.463-0.026 0.76s-0.14 0.598-0.262 0.904c-0.122 0.306-0.271 0.581-0.445 0.825s-0.367 0.419-0.576 0.524c-0.209 0.105-0.393 0.157-0.55 0.157s-0.332-0.035-0.524-0.105c-0.175-0.052-0.393-0.1-0.655-0.144s-0.528-0.052-0.799-0.026c-0.271 0.026-0.541 0.083-0.812 0.17s-0.502 0.236-0.694 0.445c-0.419 0.437-0.664 0.934-0.734 1.493s0.009 1.092 0.236 1.598c0.175 0.349 0.148 0.699-0.079 1.048-0.105 0.14-0.271 0.284-0.498 0.432s-0.476 0.284-0.747 0.406-0.555 0.218-0.851 0.288c-0.297 0.070-0.559 0.105-0.786 0.105-0.157 0-0.306-0.061-0.445-0.183s-0.236-0.253-0.288-0.393h-0.026c-0.192-0.541-0.52-1.009-0.982-1.402s-1-0.589-1.611-0.589c-0.594 0-1.131 0.197-1.611 0.589s-0.816 0.851-1.009 1.375c-0.087 0.21-0.218 0.362-0.393 0.458s-0.367 0.144-0.576 0.144c-0.244 0-0.52-0.044-0.825-0.131s-0.611-0.197-0.917-0.327c-0.306-0.131-0.581-0.284-0.825-0.458s-0.428-0.349-0.55-0.524c-0.087-0.122-0.135-0.266-0.144-0.432s0.057-0.397 0.197-0.694c0.192-0.402 0.266-0.86 0.223-1.375s-0.266-0.991-0.668-1.428c-0.244-0.262-0.541-0.432-0.891-0.511s-0.681-0.109-0.995-0.092c-0.367 0.017-0.742 0.087-1.127 0.21-0.244 0.070-0.489 0.052-0.734-0.052-0.192-0.070-0.371-0.231-0.537-0.485s-0.314-0.533-0.445-0.838c-0.131-0.306-0.231-0.62-0.301-0.943s-0.087-0.59-0.052-0.799c0.052-0.384 0.227-0.629 0.524-0.734 0.524-0.21 0.995-0.555 1.415-1.035s0.629-1.017 0.629-1.611c0-0.611-0.21-1.144-0.629-1.598s-0.891-0.786-1.415-0.996c-0.157-0.052-0.288-0.179-0.393-0.38s-0.157-0.406-0.157-0.616c0-0.227 0.035-0.48 0.105-0.76s0.162-0.55 0.275-0.812 0.244-0.502 0.393-0.72c0.148-0.218 0.31-0.38 0.485-0.485 0.14-0.087 0.275-0.122 0.406-0.105s0.275 0.052 0.432 0.105c0.524 0.21 1.070 0.275 1.637 0.197s1.070-0.327 1.506-0.747c0.21-0.209 0.362-0.467 0.458-0.773s0.157-0.607 0.183-0.904c0.026-0.297 0.026-0.568 0-0.812s-0.048-0.419-0.065-0.524c-0.035-0.105-0.066-0.227-0.092-0.367s-0.013-0.262 0.039-0.367c0.105-0.244 0.293-0.458 0.563-0.642s0.563-0.336 0.878-0.458c0.314-0.122 0.62-0.214 0.917-0.275s0.533-0.092 0.707-0.092c0.227 0 0.406 0.074 0.537 0.223s0.223 0.301 0.275 0.458c0.192 0.471 0.507 0.886 0.943 1.244s0.952 0.537 1.546 0.537c0.611 0 1.153-0.17 1.624-0.511s0.803-0.773 0.996-1.297c0.070-0.14 0.179-0.284 0.327-0.432s0.301-0.223 0.458-0.223c0.244 0 0.511 0.035 0.799 0.105s0.572 0.166 0.851 0.288c0.279 0.122 0.537 0.279 0.773 0.472s0.423 0.402 0.563 0.629c0.087 0.14 0.113 0.293 0.079 0.458s-0.070 0.284-0.105 0.354c-0.227 0.506-0.297 1.039-0.21 1.598s0.341 1.048 0.76 1.467c0.419 0.419 0.934 0.651 1.546 0.694s1.179-0.057 1.703-0.301c0.14-0.087 0.31-0.122 0.511-0.105s0.371 0.096 0.511 0.236c0.262 0.244 0.493 0.616 0.694 1.113s0.336 1 0.406 1.506c0.035 0.297-0.013 0.528-0.144 0.694s-0.266 0.275-0.406 0.327c-0.542 0.192-1.004 0.528-1.388 1.009s-0.576 1.026-0.576 1.637c0 0.594 0.162 1.113 0.485 1.559s0.747 0.764 1.27 0.956c0.122 0.070 0.227 0.14 0.314 0.21 0.192 0.157 0.323 0.358 0.393 0.602v0zM16.451 19.462c0.786 0 1.528-0.149 2.227-0.445s1.305-0.707 1.821-1.231c0.515-0.524 0.921-1.131 1.218-1.821s0.445-1.428 0.445-2.214c0-0.786-0.148-1.524-0.445-2.214s-0.703-1.292-1.218-1.808c-0.515-0.515-1.122-0.921-1.821-1.218s-1.441-0.445-2.227-0.445c-0.786 0-1.524 0.148-2.214 0.445s-1.292 0.703-1.808 1.218c-0.515 0.515-0.921 1.118-1.218 1.808s-0.445 1.428-0.445 2.214c0 0.786 0.149 1.524 0.445 2.214s0.703 1.297 1.218 1.821c0.515 0.524 1.118 0.934 1.808 1.231s1.428 0.445 2.214 0.445v0z"></svg>';!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.store=b()}(this,function(){var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},b=window.localStorage,d=function(){};function g(a){return"object"===(void 0===a?"undefined":h(a))&&"[object object]"===Object.prototype.toString.call(a).toLowerCase()&&!a.length}function l(a){return"[object Function]"==={}.toString.call(a)}function j(){if(!(this instanceof j)){return new j}}b=function(c){var a="_Is_Incognit";try{c.setItem(a,"yes")}catch(a){if("QuotaExceededError"===a.name){var f=function(){};c.__proto__={setItem:f,getItem:f,removeItem:f,clear:f}}}finally{"yes"===c.getItem(a)&&c.removeItem(a)}return c}(b),j.prototype={set:function(a,f){if(d("set",a,f),a&&!g(a)){b.setItem(a,void 0===(c=f)||"function"==typeof c?c+"":JSON.stringify(c))}else{if(a&&g(a)&&!f){for(var o in a){this.set(o,a[o])}}}var c;return this},get:function(a){if(!a){var c={};return this.forEach(function(f,o){return c[f]=o}),c}return"?"===a.charAt(0)?this.has(a.substr(1)):function(o){if("string"==typeof o){try{return JSON.parse(o)}catch(f){return o||void 0}}}(b.getItem(a))},clear:function(){return this.forEach(function(a,c){d("clear",a,c)}),b.clear(),this},remove:function(a){var c=this.get(a);return b.removeItem(a),d("remove",a,c),c},has:function(a){return{}.hasOwnProperty.call(this.get(),a)},keys:function(){var a=[];return this.forEach(function(c){a.push(c)}),a},size:function(){return this.keys().length},forEach:function(a){for(var c=0;c<b.length;c++){var f=b.key(c);if(!1===a(f,this.get(f))){break}}return this},search:function(a){for(var f=this.keys(),o={},c=0;c<f.length;c++){-1<f[c].indexOf(a)&&(o[f[c]]=this.get(f[c]))}return o},onStorage:function(a){return a&&l(a)&&(d=a),this}};var n=null;function k(a,f){var q=arguments,c=null;if(n||(n=j()),0===q.length){return n.get()}if(1===q.length){if("string"==typeof a){return n.get(a)}if(g(a)){return n.set(a)}}if(2===q.length&&"string"==typeof a){if(!f){return n.remove(a)}if(f&&"string"==typeof f){return n.set(a,f)}if(f&&l(f)){return c=null,(c=f(a,n.get(a)))?k.set(a,c):k}}if(2===q.length&&a instanceof Array&&l(f)){for(var p=0;p<a.length;p++){c=f(a[p],n.get(a[p])),k.set(a[p],c)}return k}}for(var m in j.prototype){k[m]=j.prototype[m]}return k});(function(n,p,u){var w=n([]),s=n.resize=n.extend(n.resize,{}),o,l="setTimeout",m="resize",t=m+"-special-event",v="delay",r="throttleWindow";s[v]=250;s[r]=true;n.event.special[m]={setup:function(){if(!s[r]&&this[l]){return false}var a=n(this);w=w.add(a);n.data(this,t,{w:a.width(),h:a.height()});if(w.length===1){q()}},teardown:function(){if(!s[r]&&this[l]){return false}var a=n(this);w=w.not(a);a.removeData(t);if(!w.length){clearTimeout(o)}},add:function(b){if(!s[r]&&this[l]){return false}var c;function a(d,h,g){var f=n(this),e=n.data(this,t);e.w=h!==u?h:f.width();e.h=g!==u?g:f.height();c.apply(this,arguments)}if(n.isFunction(b)){c=b;return a}else{c=b.handler;b.handler=a}}};function q(){o=p[l](function(){w.each(function(){var d=n(this),a=d.width(),b=d.height(),c=n.data(this,t);if(a!==c.w||b!==c.h){d.trigger(m,[c.w=a,c.h=b])}});q()},s[v])}})(jQuery,this);var ua=navigator.userAgent;var ipad=ua.match(/(iPad).*OS\s([\d_]+)/);var Ios=ipad||ua.match(/(iPhone\sOS)\s([\d_]+)/);var Android=ua.match(/(Android)\s+([\d.]+)/);const isMobile=Ios||Android;var inf=0,container,html,list,args,dansrc,solo=0;function mzPlayer(){args=arguments[0];container=arguments[0].container;var c;if(arguments[0].pic){pic=arguments[0].pic}else{pic=""}if(arguments[0].danmaku){dansrc=arguments[0].danmaku}else{dansrc=""}if(arguments[0].video.srctype=="simple"||!arguments[0].video.srctype){solo=1;html='<video class="player" src="'+arguments[0].video.src+'" webkit-playsinline playsinline preload="auto" poster="'+pic+'"></video>'}if(arguments[0].video.srctype=="json"){var a=arguments[0].video.src;c=$.ajax({url:arguments[0].video.src,async:false});list=jQuery.parseJSON(c.responseText)["video"][0]["video"];for(i=0;i<list.length;i++){if(i==0){html='<video class="player" src="'+list[i]["file"]+'" webkit-playsinline playsinline preload="auto" poster="'+pic+'"></video>'}else{html=html+'<video class="player" src="'+list[i]["file"]+'" webkit-playsinline playsinline preload="metadata" style="display=none;"></video>'}}}$(container).append("<div class='mzplayer'></div>");$(".mzplayer").append("<div class='loading'>视频预加载ing...<br/><br/>(⊙o⊙)…<br/><br/>IE浏览器的加载较慢<br/>建议更换后观看</div>");$(".mzplayer").append("<div class='mzplayer-mask'></div>");$(".mzplayer").append("<div class='video-wrap'></div>");$(".video-wrap").html(html);$(".mzplayer").append("<div class='mid'></div>");$(".mzplayer").append("<div class='control-mask'></div>");$(".mzplayer").append("<div class='control'></div>");$(".mzplayer").append("<div class='r-menu'></div>");$(".r-menu").append('<div class="r-menu-item" ><a href="javascript:void(0);" style="text-decoration:none;">(*/ω\\*) 哼！</a></div><div class="r-menu-item"><a target="_new" href="http://wztap.top" style="text-decoration:none;">By&nbsp;&nbsp;王子饼干</a></div><div class="r-menu-item"><a href="javascript:void(0);">mzPlayer v1.0.1</a></div>');$(".control").append("<div class='player-icons-left'></div>");$(".player-icons-left").append("<div class='player-icon'></div>");$(".player-icons-left").append("<div class='player-volume'></div>");$(".player-volume").append(volumeupsvg);$(".player-icons-left").append('<div id="vol"></div>');$("#vol").append("<div class='controller voice'></div>");$(".voice").append("<div class='controller2 voice2'></div>");$(".voice2").append("<div class='point p1'></div>");$(".player-icons-left").append("<div class='player-time'></div>");$(".player-icons-left").append("<div class='player-notice'></div>");$(".control").append("<div id='t'></div>");$("#t").append("<div class='controller time'></div>");$(".time").append("<div class='controller3'></div><div class='controller2 time2'><div class='point p2'></div></div>");$("#t").append("<div class='bar-time'>00:00</div>");$(".control").append("<div class='comment'></div>");$(".comment").append(commentsvg);$(".control").append("<div class='setting'></div>");$(".setting").append("<div class='setting-icon'></div>");$(".setting-icon").append(settingsvg);$(".setting").append("<div class='setting-box'></div>");$(".setting-box").append("<div class='setting-item'></div>");$(".setting-item").append("<span class='danmu-label'>开启洗脑循环</span>");$(".setting-item").append("<div class='toggle'></div>");$(".toggle").append('<input class="setting-input" type="checkbox" name="toggle-dan">');$(".toggle").append('<label for="toggle-dan"></label>');$(".control").append("<div class='full'></div>");$(".full").append("<div class='text2'></div>");$(".text2").html("全屏");$(".full").append(fullsvg);$(".full").append("<div class='fullweb'></div>");$(".fullweb").append(fullwebsvg);$(".control").append("<div class='text1'></div>");$(".text1").html("网页全屏");$(".control").append("<div class='text4'></div>");$(".text4").html("音量");$(".control").append("<div class='text5'></div>");$(".text5").html("设置");$(".control").append("<div class='text6'></div>");$(".text6").html("发送弹幕");try{makeReady()}catch(b){}eventF()}var ffplayer=0;var rfvt;var ifTime;function mm(){clearInterval(rfvt);$(".control-mask").css("opacity",1);$(".control").css("opacity",1);rfvt=setTimeout("if($('.player')[0].paused==false){$('.control-mask').css('opacity',0);$('.control').css('opacity',0);}",2000)}function FullScreen(){$(".mzplayer").addClass("ff");$(".text2").html("退出");if($(".mzplayer").hasClass("wf")){$(".mzplayer").removeClass("wf");$(".text1").html("网页全屏")}var a=$(".mzplayer")[0];if(a.webkitRequestFullScreen){a.webkitRequestFullScreen()}else{if(a.mozRequestFullScreen){a.mozRequestFullScreen()}else{if(a.requestFullScreen){a.requestFullscreen()}else{notice.notice_show("浏览器不支持全屏API或已被禁用",null,null,null,true,true)}}}}function exitFullscreen(){$(".mzplayer").removeClass("ff");$(".text2").html("全屏");var a=document;if(a.webkitCancelFullScreen){a.webkitCancelFullScreen()}else{if(a.mozCancelFullScreen){a.mozCancelFullScreen()}else{if(a.cancelFullScreen){a.cancelFullScreen()}else{if(a.exitFullscreen){a.exitFullscreen()}else{notice.notice_show("浏览器不支持全屏API或已被禁用",null,null,null,true,true)}}}}}var vTime=new Array();function makeReady(){for(i=0;i<=$(".player").length-1;i++){if(!($(".player")[i].duration)){setTimeout("makeReady();",100);return}}$(".player-icon").html(playsvg);$(".mid").html(playsvg);$(".p1").css("opacity",1);console.log("\n"+" %c mzPlayer v1.0.1"+" %c http://wztap.top "+"\n"+"\n","color: #fadfa3; background: #198ce4; padding:5px 0;","background: #fadfa3; padding:5px 0;");if(dansrc==""){$(".comment").css("display","none")}if(isMobile){$(".player-volume").css("display","none");$("#vol").css("display","none");$(".player-time").css("left","50px");$(".control").addClass("mcontrol")}$(".player-time").html("00:00&nbsp;/&nbsp;00:00");getArr();allStop();$(".player")[0].style.display="block";$(".loading").css("display","none");if(store.get("vol")){$(".player")[0].volume=store.get("vol")}whenPlay()}function getArr(){var a=0;for(i=0;i<$(".player").length;i++){a+=$(".player")[i].duration;vTime[i]=a}}function getWhich(){if(solo==1){return 0}for(i=0;i<list.length;i++){if(!args.video.srctype){return 0}if($(".player")[0].src==list[i]["file"]){return i}}}function getWhichByTime(a){if(solo==1){return 0}for(i=0;i<list.length;i++){if(i==0){if(a<vTime[0]){return 0}}else{if(a<vTime[i]&&a>vTime[i-1]){return i}}}}function allStop(){if(solo==1){return}if(list.length>1){$(".video-wrap").html('<video class="player" src="'+list[0]["file"]+'" webkit-playsinline playsinline preload="auto" poster="'+pic+'"></video><video class="player" src="'+list[1]["file"]+'" webkit-playsinline playsinline preload="auto" style="display: block;z-index:-5;"></video>')}}function whenPlay(){if(solo==1){var f=$(".player")[0].duration}else{var f=vTime[list.length-1]}var h=getWhich();mutevvv=$(".player")[0].muted;vvv=$(".player")[0].volume;if(mutevvv==false){$(".voice2").css("width",$(".player")[0].volume*50)}else{$(".voice2").css("width",0)}if(!h){var g=$(".player")[0].currentTime}else{var g=$(".player")[0].currentTime+vTime[getWhich(h)-1]}if(solo==1&&$(".player")[0].buffered.length){$(".controller3").css("width",($(".player")[0].buffered.end($(".player")[0].buffered.length-1))/($(".player")[0].duration)*parseFloat($("#t").css("width")))}var b=parseInt(g/60);if(b<10){b="0"+b}var a=parseInt(g%60);if(a<10){a="0"+a}var e=parseInt(f/60);if(e<10){e="0"+e}var c=parseInt(f%60);if(c<10){c="0"+c}$(".time2").css("width",(g/f)*parseFloat($("#t").css("width")));$(".player-time").html("&nbsp;"+b+":"+a+"&nbsp;/&nbsp;"+e+":"+c);if(solo==1){if($(".player")[0].ended==true){$(".player")[0].currentTime=0;if(inf==1){$(".player")[0].play();$(".player-icon").html(pausesvg)}else{$(".player")[0].pause();$(".player-icon").html(playsvg)}}}else{if($(".player")[0].ended==true){if($(".player")[0].src==list[list.length-1]["file"]){$(".player")[0].src=list[0]["file"];$(".player")[0].currentTime=0;$(".player")[0].muted=mutevvv;$(".player")[0].volume=vvv;if(inf==1){$(".player")[0].play();$(".player-icon").html(pausesvg)}else{$(".player")[0].pause();$(".player-icon").html(playsvg)}if(list.length>1){$(".player")[1].src=list[1]["file"]}}else{$(".player")[0].style.display="none";$(".player")[1].play();$(".video-wrap")[0].removeChild($(".player")[0]);$(".player")[0].style.zIndex="0";$(".player")[0].currentTime=0;$(".player")[0].muted=mutevvv;$(".player")[0].volume=vvv;if(getWhich()!=list.length-1){$(".video-wrap").append('<video class="player" src="'+list[getWhich()+1]["file"]+'" webkit-playsinline playsinline preload="auto" style="display: block;z-index:-5;"></video>')}}}}if($(".player")[0].paused==false){var d=setTimeout("whenPlay()",200)}}function eventF(){var c=0;var f=0;var b=0;$(".setting-icon").click(function(){$(".setting-box").addClass("box-open");$(".mzplayer-mask").css("display","block")});$(".toggle").click(function(){if($("input[name='toggle-dan']")[0].checked==true){$("input[name='toggle-dan']")[0].checked=false;inf=0}else{$("input[name='toggle-dan']")[0].checked=true;inf=1}});$(".mzplayer-mask").click(function(){if($(".setting-box").hasClass("box-open")){$(".setting-box").removeClass("box-open");$(".mzplayer-mask").css("display","none")}if($(".player-icons-left").css("display")=="none"){$(".player-icons-left").css("display","block");$(".comment").css("display","block");$(".setting").css("display","block");$(".full").css("display","block");$(".mzplayer-mask").css("display","none");$(".mzplayer").removeClass("ff")}});$(".comment").click(function(){$(".mzplayer-mask").css("display","block");$(".player-icons-left").css("display","none");$(".comment").css("display","none");$(".setting").css("display","none");$(".full").css("display","none")});$(".mzplayer").mouseout(function(m){var l=m.pageX-$(this).offset().left;var k=m.pageY-$(this).offset().top;var g=parseFloat($(".mzplayer").css("width"));var j=parseFloat($(".mzplayer").css("height"));if($(".player")[0].paused==false){if(l>g||l<0||k>j||k<0){$(".control-mask").css("opacity",0);$(".control").css("opacity",0)}}});$(".mzplayer").bind("contextmenu",function(){return false});$(".mzplayer").mousedown(function(j){if(3==j.which){var h=j.pageX-$(this).offset().left;var g=j.pageY-$(this).offset().top;$(".r-menu").css("display","block");$(".r-menu").css("top",g);$(".r-menu").css("left",h)}});$(".mzplayer").click(function(){$(".r-menu").css("display","none")});$(document).keydown(function(j){mm();if(j.keyCode==32){a()}if(j.keyCode==39){clearInterval(h);clearInterval(g);if(solo==1){if($(".player-icon").hasClass("pause")){$(".player-icon").removeClass("pause")}$(".player")[0].currentTime=$(".player")[0].currentTime+5;$(".player")[0].play();$(".player-icon").html(pausesvg);whenPlay()}else{positionX=parseFloat($(".time2").css("width"));id=getWhichByTime((positionX/parseFloat($("#t").css("width")))*vTime[list.length-1]+5);if($(".player-icon").hasClass("pause")){$(".player-icon").removeClass("pause")}if(id!=0){$(".player")[0].src=list[id]["file"];$(".player")[0].currentTime=(positionX/parseFloat($("#t").css("width")))*vTime[list.length-1]+5-vTime[id-1];$(".player")[0].play();$(".player-icon").html(pausesvg);$(".mid").html(pausesvg);if(id!=list.length){$(".player")[1].src=list[id+1]["file"]}}else{$(".player")[0].src=list[id]["file"];$(".player")[0].currentTime=(positionX/parseFloat($("#t").css("width")))*vTime[list.length-1]+5;$(".player")[0].play();$(".player-icon").html(pausesvg);$(".mid").html(pausesvg);if(id!=list.length){$(".player")[1].src=list[id+1]["file"]}}whenPlay()}$(".player-notice").css("opacity",0.85);$(".player-notice").html("&nbsp;快进&nbsp;5&nbsp;秒");$(".control-mask").css("opacity",1);$(".control").css("opacity",1);var h=setTimeout("$('.player-notice').css('opacity',0)",1500)}if(j.keyCode==37){clearInterval(h);clearInterval(g);if(solo==1){if($(".player-icon").hasClass("pause")){$(".player-icon").removeClass("pause")}$(".player")[0].currentTime=$(".player")[0].currentTime-5;$(".player")[0].play();$(".player-icon").html(pausesvg);whenPlay()}else{positionX=parseFloat($(".time2").css("width"));id=getWhichByTime((positionX/parseFloat($("#t").css("width")))*vTime[list.length-1]+5);if($(".player-icon").hasClass("pause")){$(".player-icon").removeClass("pause")}if(id!=0){$(".player")[0].src=list[id]["file"];$(".player")[0].currentTime=(positionX/parseFloat($("#t").css("width")))*vTime[list.length-1]-5-vTime[id-1];$(".player")[0].play();$(".player-icon").html(pausesvg);$(".mid").html(pausesvg);if(id!=list.length){$(".player")[1].src=list[id+1]["file"]}}else{$(".player")[0].src=list[id]["file"];$(".player")[0].currentTime=(positionX/parseFloat($("#t").css("width")))*vTime[list.length-1]-5;$(".player")[0].play();$(".player-icon").html(pausesvg);$(".mid").html(pausesvg);if(id!=list.length){$(".player")[1].src=list[id+1]["file"]}}whenPlay()}$(".control-mask").css("opacity",1);$(".control").css("opacity",1);$(".player-notice").css("opacity",0.85);$(".player-notice").html("&nbsp;快退&nbsp;5&nbsp;秒");var g=setTimeout("$('.player-notice').css('opacity',0)",1500)}});document.addEventListener("fullscreenchange",function(g){b++;if(b%2==0){$(".mzplayer").removeClass("ff");$(".text2").html("全屏")}});document.addEventListener("mozfullscreenchange",function(g){b++;if(b%2==0){$(".mzplayer").removeClass("ff");$(".text2").html("全屏")}});document.addEventListener("webkitfullscreenchange",function(g){b++;if(b%2==0){$(".mzplayer").removeClass("ff");$(".text2").html("全屏")}});document.addEventListener("msfullscreenchange",function(g){b++;if(b%2==0){$(".mzplayer").removeClass("ff");$(".text2").html("全屏")}});$(".mzplayer").resize(function(){});var d=(new Date()).getTime();$(".player-icon").click(function(){a()});if(!isMobile){$(".video-wrap").click(function(){a()});$(".control-mask").click(function(){a()})}if(isMobile){$(".video-wrap").click(function(){var g=(new Date()).getTime();if(g-d<=500){a()}d=g});$(".control-mask").click(function(){var g=(new Date()).getTime();if(g-d<=500){a()}d=g})}function a(){if($(".player")[0].paused==true){$(".player")[0].play();$(".player-icon").removeClass("pause");$(".player-icon").html(pausesvg);$(".mid").html(playsvg);whenPlay()}else{$(".player-icon").addClass("pause");$(".player")[0].pause();$(".player-icon").html(playsvg);$(".mid").html(pausesvg)}$(".mid").addClass("mid-transition");setTimeout('$(".mid").removeClass("mid-transition");',500)}$(".fullweb").click(function(g){if($(".mzplayer").hasClass("wf")){exitFullscreen();$(".mzplayer").removeClass("wf");$(".text1").html("网页全屏");g.stopPropagation()}else{exitFullscreen();$(".mzplayer").addClass("wf");$(".text1").html("还原网页");g.stopPropagation()}});$(".fullweb").mouseover(function(g){$(".text1").css("display","block");$(".text1").css("opacity",1);$("#t").css("z-index",0);$(".text6").css("transform","translateY(-2px)");$(".fullweb").css("opacity",1);g.stopPropagation()}).mouseout(function(){$(".text1").css("opacity",0);$(".text1").css("transform","translateY(5px)");$(".fullweb").css("opacity",0.3);$("#t").css("z-index",10)});$(".full").mouseover(function(){$(".text2").css("display","block");$(".text2").css("opacity",1);$("#t").css("z-index",0);$(".text2").css("transform","translateY(-2px)")}).mouseout(function(){$(".text2").css("opacity",0);$("#t").css("z-index",10);$(".text2").css("transform","translateY(5px)")});$(".setting-icon").mouseover(function(){$(".text5").css("display","block");$(".text5").css("opacity",1);$(".text5").css("transform","translateY(-2px)")}).mouseout(function(){$(".text5").css("opacity",0);$(".text5").css("transform","translateY(5px)")});$(".comment").mouseover(function(){$(".text6").css("display","block");$(".text6").css("opacity",1);$(".text6").css("transform","translateY(-2px)")}).mouseout(function(){$(".text6").css("opacity",0);$(".text6").css("transform","translateY(5px)")});$(".full").click(function(){if($(".mzplayer").hasClass("ff")){exitFullscreen()}else{FullScreen()}});$(".mzplayer").bind("mousemove",mm);$(".mzplayer").bind("click",mm);$("#t").mousemove(function(m){var j=m.pageX-$(this).offset().left;$(".bar-time").css("left",j-21);if(solo==1){var l=j/parseFloat($("#t").css("width"))*$(".player")[0].duration}else{var l=j/parseFloat($("#t").css("width"))*vTime[list.length-1]}var h=parseInt(l/60);if(h<10){h="0"+h}var g=parseInt(l%60);if(g<10){g="0"+g}$(".bar-time").html(h+":"+g)});$("#t").mouseover(function(h){var g=h.pageX-$(this).offset().left-20;$(".p2").css("opacity",1);$(".bar-time").css("opacity",1)}).mouseout(function(){$(".p2").css("opacity",0);$(".bar-time").css("opacity",0)});$("#vol").mousedown(function(g){c=1});$(document).mouseup(function(){c=0;f=0;setTimeout("$('.player-notice').css('opacity',0)",3000)});$("#vol").click(function(h){var g=h.pageX-$(this).offset().left;if($(".player-volume").hasClass("mute")){$(".player")[0].muted=false;$(".player-volume").removeClass("mute")}if(g<=50){$(".voice2").css("width",g);for(i=0;i<$(".player").length;i++){$(".player")[i].volume=g/50}store.set("vol",$(".player")[0].volume);c=0}e()});$(".player-volume").click(function(){if($(this).hasClass("mute")){$(".player")[0].muted=false;$(this).removeClass("mute");$(".voice2").css("width",$(".player")[0].volume*50);e()}else{$(this).addClass("mute");$(".player")[0].muted=true;$(".voice2").css("width",0);e();$(".player-notice").html("&nbsp;音量 0%");$(".player-volume").html(volumeoffsvg)}});function e(){$(".player-notice").css("opacity",0.85);$(".player-notice").html("&nbsp;音量 "+parseInt($(".player")[0].volume*100)+"%");if($(".player")[0].volume>0.66){$(".player-volume").html(volumeupsvg)}if($(".player")[0].volume<0.65&&$(".player")[0].volume!=0){$(".player-volume").html(volumedownsvg)}if($(".player")[0].volume==0){$(".player-volume").html(volumeoffsvg)}}$(document).mousemove(function(h){if(c==1){if($(".player-volume").hasClass("mute")){$(".player")[0].muted=false;$(".player-volume").removeClass("mute")}var g=h.pageX-$("#vol").offset().left;if(g<=50&&g>=0){$(".voice2").css("width",g);$(".player")[0].volume=g/50;store.set("vol",$(".player")[0].volume)}if(g<0){$(".voice2").css("width",0);$(".player")[0].volume=0;store.set("vol",0)}if(g>=50){$(".voice2").css("width",50);$(".player")[0].volume=1;store.set("vol",1)}e()}if(f==1){var g=h.pageX-$("#t").offset().left;if(solo==1){if($(".player-icon").hasClass("pause")){$(".player-icon").removeClass("pause")}$(".player")[0].currentTime=(g/parseFloat($("#t").css("width")))*$(".player")[0].duration;$(".player")[0].play();$(".time2").css("width",g);$(".player-icon").html(pausesvg)}else{if(g<parseFloat($("#t").css("width"))&&g>=0){id=getWhichByTime((g/parseFloat($("#t").css("width")))*vTime[list.length-1]);if($(".player-icon").hasClass("pause")){$(".player-icon").removeClass("pause")}if(id!=0){$(".player")[0].src=list[id]["file"];$(".time2").css("width",g);$(".player")[0].currentTime=(g/parseFloat($("#t").css("width")))*vTime[list.length-1]-vTime[id-1];$(".player")[0].play();$(".player-icon").html(pausesvg);$(".mid").html(pausesvg);if(id!=list.length){$(".player")[1].src=list[id+1]["file"]}}else{$(".time2").css("width",g);$(".player")[0].src=list[id]["file"];$(".player")[0].currentTime=(g/parseFloat($("#t").css("width")))*vTime[list.length-1];$(".player")[0].play();$(".player-icon").html(pausesvg);$(".mid").html(pausesvg);if(id!=list.length){$(".player")[1].src=list[id+1]["file"]}}$(".control-mask").css("opacity",1);$(".control").css("opacity",1)}}if(g<0){$(".time2").css("width","0px");if(solo!=1){$(".player")[0].src=list[0]["file"]}$(".player")[0].currentTime=0;$(".player")[0].play();$(".player-icon").html(pausesvg);$(".mid").html(pausesvg);if(solo!=1){if(id!=list.length){$(".player")[1].src=list[id+1]["file"]}}}if(g>=parseFloat($("#t").css("width"))){$(".time2").css("width",parseFloat($("#t").css("width")));$(".player")[0].currentTime=$(".player")[0].duration;$(".player")[0].pause();$(".player-icon").html(playsvg);$(".mid").html(playsvg)}}});$("#t").click(function(h){var g=h.pageX-$(this).offset().left;$(".time2").css("width",g);if(solo==1){if($(".player-icon").hasClass("pause")){$(".player-icon").removeClass("pause")}$(".player")[0].currentTime=(g/parseFloat($("#t").css("width")))*$(".player")[0].duration;$(".player")[0].play();$(".player-icon").html(pausesvg)}else{if(g<parseFloat($("#t").css("width"))){id=getWhichByTime((g/parseFloat($("#t").css("width")))*vTime[list.length-1]);if($(".player-icon").hasClass("pause")){$(".player-icon").removeClass("pause")}if(id!=0){$(".player")[0].src=list[id]["file"];$(".player")[0].currentTime=(g/parseFloat($("#t").css("width")))*vTime[list.length-1]-vTime[id-1];$(".player")[0].play();$(".player-icon").html(pausesvg);$(".mid").html(pausesvg);if(id!=list.length){$(".player")[1].src=list[id+1]["file"]}}else{$(".player")[0].src=list[id]["file"];$(".player")[0].currentTime=(g/parseFloat($("#t").css("width")))*vTime[list.length-1];$(".player")[0].play();$(".player-icon").html(pausesvg);$(".mid").html(pausesvg);if(id!=list.length){$(".player")[1].src=list[id+1]["file"]}}$(".control-mask").css("opacity",1);$(".control").css("opacity",1)}}});$("#t").mousedown(function(g){f=1});$("#t").bind("touchstart",function(g){startX=g.originalEvent.changedTouches[0].pageX,startY=g.originalEvent.changedTouches[0].pageY});$("#t").bind("touchmove",function(h){mm();endX=h.originalEvent.changedTouches[0].pageX,endY=h.originalEvent.changedTouches[0].pageY;var g=endX-$("#t").offset().left;if(solo==1){if($(".player-icon").hasClass("pause")){$(".player-icon").removeClass("pause")}$(".player")[0].currentTime=(g/parseFloat($("#t").css("width")))*$(".player")[0].duration;$(".player")[0].play();$(".time2").css("width",g);$(".player-icon").html(pausesvg)}else{if(g<parseFloat($("#t").css("width"))&&g>=0){id=getWhichByTime((g/parseFloat($("#t").css("width")))*vTime[list.length-1]);if($(".player-icon").hasClass("pause")){$(".player-icon").removeClass("pause")}if(id!=0){$(".player")[0].src=list[id]["file"];$(".time2").css("width",g);$(".player")[0].currentTime=(g/parseFloat($("#t").css("width")))*vTime[list.length-1]-vTime[id-1];$(".player")[0].play();$(".player-icon").html(pausesvg);$(".mid").html(pausesvg);if(id!=list.length){$(".player")[1].src=list[id+1]["file"]}}else{$(".time2").css("width",g);$(".player")[0].src=list[id]["file"];$(".player")[0].currentTime=(g/parseFloat($("#t").css("width")))*vTime[list.length-1];$(".player")[0].play();$(".player-icon").html(pausesvg);$(".mid").html(pausesvg);if(id!=list.length){$(".player")[1].src=list[id+1]["file"]}}$(".control-mask").css("opacity",1);$(".control").css("opacity",1)}}if(g<0){$(".time2").css("width","0px");if(solo!=1){$(".player")[0].src=list[0]["file"]}$(".player")[0].currentTime=0;$(".player")[0].play();$(".player-icon").html(pausesvg);$(".mid").html(pausesvg);if(solo!=1){if(id!=list.length){$(".player")[1].src=list[id+1]["file"]}}}if(g>=parseFloat($("#t").css("width"))){$(".time2").css("width",parseFloat($("#t").css("width")));$(".player")[0].currentTime=$(".player")[0].duration;$(".player")[0].pause();$(".player-icon").html(playsvg);$(".mid").html(playsvg)}})};